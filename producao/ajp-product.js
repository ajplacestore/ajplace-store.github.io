/**
 * Avanti Comunicação <contato@penseavanti.com.br>
 * almeidajunior
 * @date Mon Mar 15 2021 11:58:04 GMT-0300 (GMT-03:00)
 */

"use strict";!function(){try{var o={init:function(){o.getProductData(),o.applyTextsMobile(),o.openShipping(),o.verifyIfProductAvaible(),o.changeUrlCartBySeller(),o.toggleSellers()},productData:{id:$("#___rc-p-id").val(),items:null,sellers:null,thumbs:null,skuIdSelected:null},imagesConfig:{image:{configMain:"530-625",configZoom:"1000-1000",configThumb:"100-100"},regexList:{main:/530-625/g,thumb:/100-100/g,size:/#width#-#height#/g,uncle:/~/g}},windowOnload:function(){o.cepText()},ajaxStop:function(){},openShipping:function(){"function"==typeof window.ShippingValue&&window.ShippingValue()},verifyIfProductAvaible:function(){function n(t){t?$(document.body).addClass("ajp-prod-available").removeClass("ajp-prod-unavailable"):$(document.body).addClass("ajp-prod-unavailable").removeClass("ajp-prod-available")}$(document).on("skuSelected.vtex",function(t,s,e){n(e.available)}),n(skuJson.available),$(document.body).is(".ajp-prod-unavailable")&&($(".sku-notifyme-client-name").attr("placeholder","SEU NOME"),$(".sku-notifyme-client-email").attr("placeholder","SEU E-MAIL"),$(".sku-notifyme-button-ok").val("AVISE-ME QUANDO CHEGAR"))},cepText:function(){console.log($("#txtCep").length),$("#txtCep").attr("placeholder","Digite seu CEP")},getProductData:function(){$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+o.productData.id,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(t){console.log(t[0]),o.productData.items=t[0].items,o.getSkuInfos(),o.buildThumbsImage(),o.applyDescriptionProduct(t[0]),o.applyAtribbutes(t[0]),$(window).width()<=991&&o.fixersMobile()})},buildThumbsImage:function(){var t=$(".ajp-product__image--main"),e=[],s="",n="";o.productData.items[0].images.forEach(function(t,s){0==s&&(n=(n=t.imageTag.replace(o.imagesConfig.regexList.size,o.imagesConfig.image.configMain)).replace(o.imagesConfig.regexList.uncle,""));t=t.imageTag.replace(o.imagesConfig.regexList.size,o.imagesConfig.image.configThumb).replace(o.imagesConfig.regexList.uncle,"");e.push(t)});for(var g=0;g<e.length;g++)s+='<li><a data-zoom="">'+e[g]+"</a></li>";t.html("<a>"+n+"</a>");var a=(a=t.find("img").attr("src")).replace(o.imagesConfig.regexList.main,"1000-1000");t.find("a").attr("href",a);a=$("<ul>"+s+"</ul>");a.find("> li").each(function(){var t=$(this),s=t.find("img").attr("src");t.find("a").attr("data-zoom",s)}),o.productData.thumbs=a,991<$(window).width()?o.applySlickVerticalDesktop():$(window).width()<=991&&o.applySlickHorizontalMobile()},applySlickHorizontalMobile:function(){$(".ajp-product__image--thumbs").html("<ul>"+o.productData.thumbs[0].innerHTML+"</ul>");var t=$(".ajp-product__image--thumbs > ul");if(t.children().length<4)return $(".ajp-product__image--thumbs > ul").addClass("no-slick"),void o.applyClickChangeImages();var s=o.arrowsSlick();t.slick({slidesToShow:4,slidesToScroll:1,prevArrow:'<button type="button" class="slick-prev">'+s.prev+"</button>",nextArrow:'<button type="button" class="slick-next">'+s.next+"</button>",arrows:!0,dots:!1}),t.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),o.changeImageSlickAndMainMobile()},applySlickVerticalDesktop:function(){var t=o.productData.thumbs,s=$(".ajp-product__imageaside--vertical");if(s.append("<ul>"+t[0].innerHTML+"</ul>"),s.find("> ul > li").length<5)return $(".ajp-product__imageaside--vertical > ul").addClass("no-slick"),void o.applyClickChangeImages();t=o.arrowsSlickVertical();s.find("> ul").slick({slidesToShow:1,slidesToScroll:1,dots:!1,vertical:!0,prevArrow:'<button type="button" class="slick-prev">'+t.up+"</button>",nextArrow:'<button type="button" class="slick-next">'+t.down+"</button>",arrows:!0}),o.applyEasyZoomFirstTime(),o.changeImageSlickVerticalAndMainImage()},changeImageSlickVerticalAndMainImage:function(){$(".ajp-product__imageaside--vertical .slick-initialized.slick-slider").on("beforeChange",function(t,s,e,n){var g=$(this).find(".slick-current").next(),a=(a=g.find("a").attr("data-zoom")).replace(o.imagesConfig.regexList.thumb,"1000-1000"),g=(g=g.find("a").attr("data-zoom")).replace(o.imagesConfig.regexList.thumb,"530-625");$(".ajp-product__image--main a").attr("href",a),$(".ajp-product__image--main img").attr("src",g),o.destroyAndInitEasyzoom()})},changeImageSlickAndMainMobile:function(){$(".ajp-product__image--thumbs .slick-initialized.slick-slider").on("beforeChange",function(t,s,e,n){var g=(g=$(this).find(".slick-current").next().find("img").attr("src")).replace(o.imagesConfig.regexList.thumb,o.imagesConfig.image.configMain);$(".ajp-product__image--main img").attr("src",g)})},applyEasyZoomFirstTime:function(){$(".easyzoom").easyZoom().data("easyZoom")},destroyAndInitEasyzoom:function(){var t=$(".easyzoom").easyZoom().data("easyZoom");t.teardown(),t._init()},arrowsSlick:function(){return{prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="18" height="18" x="0" y="0" viewBox="0 0 443.52 443.52" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><g><path d="M143.492,221.863L336.226,29.129c6.663-6.664,6.663-17.468,0-24.132c-6.665-6.662-17.468-6.662-24.132,0l-204.8,204.8    c-6.662,6.664-6.662,17.468,0,24.132l204.8,204.8c6.78,6.548,17.584,6.36,24.132-0.42c6.387-6.614,6.387-17.099,0-23.712    L143.492,221.863z" fill="#000000" data-original="#000000" style=""/></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="18" height="18" x="0" y="0" viewBox="0 0 443.52 443.52" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><g><path d="M336.226,209.591l-204.8-204.8c-6.78-6.548-17.584-6.36-24.132,0.42c-6.388,6.614-6.388,17.099,0,23.712l192.734,192.734    L107.294,414.391c-6.663,6.664-6.663,17.468,0,24.132c6.665,6.663,17.468,6.663,24.132,0l204.8-204.8    C342.889,227.058,342.889,216.255,336.226,209.591z" fill="#000000" data-original="#000000" style="" class=""/></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>'}},arrowsSlickVertical:function(){return{up:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="512" height="512" x="0" y="0" viewBox="0 0 240.835 240.835" style="enable-background:new 0 0 512 512" xml:space="preserve"><g><g xmlns="http://www.w3.org/2000/svg"><path id="Expand_Less" d="M129.007,57.819c-4.68-4.68-12.499-4.68-17.191,0L3.555,165.803c-4.74,4.74-4.74,12.427,0,17.155   c4.74,4.74,12.439,4.74,17.179,0l99.683-99.406l99.671,99.418c4.752,4.74,12.439,4.74,17.191,0c4.74-4.74,4.74-12.427,0-17.155   L129.007,57.819z" fill="#ffffff" data-original="#000000" style=""/><g></g><g></g><g></g><g></g><g></g><g></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>',down:'<?xml version="1.0"?>\n                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="512" height="512" x="0" y="0" viewBox="0 0 240.811 240.811" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><path id="Expand_More" d="M220.088,57.667l-99.671,99.695L20.746,57.655c-4.752-4.752-12.439-4.752-17.191,0   c-4.74,4.752-4.74,12.451,0,17.203l108.261,108.297l0,0l0,0c4.74,4.752,12.439,4.752,17.179,0L237.256,74.859   c4.74-4.752,4.74-12.463,0-17.215C232.528,52.915,224.828,52.915,220.088,57.667z" fill="#ffffff" data-original="#000000" style=""/><g></g><g></g><g></g><g></g><g></g><g></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>'}},getSkuInfos:function(){var t,s,a=$(".ajp-product__sellers--list");1<skuJson.skus.length?(console.log("Mais de 1 SKU."),$(document).on("skuChanged.vtex",function(t,s,e){$(".ajp-product__sellers--open").addClass("hide"),$(".ajp-product__sellers--close").removeClass("hide"),$(".ajp-product__sellers--menssage").hide("fast");var n=o.productData.items.filter(function(t){return t.itemId==e.sku})[0].sellers,g="";n.forEach(function(t){1!=t.sellerId&&(t='\n                                <div class="seller-box--item">\n                                    <div class="box-item--infos">\n                                        <span class="item-name">'+t.sellerName+'</span>\n                                    </div>\n                                    <div class="box-item--button">\n                                        <label class="container">\n                                        <input type="radio" value="'+t.addToCartLink+'" name="lojas">\n                                        <span class="checkmark"></span>\n                                    </label>\n                                    </div>\n                                </div>',g+=t,a.html("<form>"+g+"</form>"))})})):(console.log("Apenas 1 SKU."),skuJson.skus[0],t=o.productData.items[0].sellers,console.log(t),s="",t.forEach(function(t){1!=t.sellerId&&(t='\n                            <div class="seller-box--item one">\n                                <div class="box-item--infos">\n                                    <span class="item-name">'+t.sellerName+'</span>\n                                </div>\n                                <div class="box-item--button">\n                                    <label class="container">\n                                    <input type="radio" value="'+t.addToCartLink+'" name="lojas">\n                                    <span class="checkmark"></span>\n                                </label>\n                                </div>\n                            </div>',s+=t,a.html("<form>"+s+"</form>"))}),$(".box-item--button input").attr("checked",!0))},changeUrlCartBySeller:function(){$(document).on("change",".ajp-product__sellers--list input",function(){var t=$(this);$(".buy-button.buy-button-ref").attr("href",t.val())})},toggleSellers:function(){var t=$(".ajp-product__sellers--menssage");$(".ajp-product__sellers--open").on("click",function(){0!=$(".ajp-product__sellers--list").children().length?($(".ajp-product__sellers--list").slideToggle("fast"),$(this).addClass("hide"),$(".ajp-product__sellers--close").removeClass("hide")):t.show("fast")}),$(".ajp-product__sellers--close").on("click",function(){0!=$(".ajp-product__sellers--list").children().length&&($(".ajp-product__sellers--list").slideToggle("fast"),$(this).addClass("hide"),$(".ajp-product__sellers--open").removeClass("hide"))})},applyClickChangeImages:function(){991<$(window).width()?$(document).on("click",".ajp-product__imageaside--vertical a",function(){var t=$(this).find("img").attr("src"),s=$(".ajp-product__image--main img"),t=t.replace(o.imagesConfig.regexList.thumb,o.imagesConfig.image.configMain);s.attr("src",t),o.destroyAndInitEasyzoom()}):$(window).width()<=991&&$(document).on("click",".ajp-product__image--thumbs a",function(){var t=$(this).find("img").attr("src"),s=$(".ajp-product__image--main img"),t=t.replace(o.imagesConfig.regexList.thumb,o.imagesConfig.image.configMain);s.attr("src",t)})},applyTextsMobile:function(){console.clear(),console.log("AJP-PRODUCT"),console.log("\n");var t=$(".ajp-product__infosmobile"),s=$(".ajp-product__name div").text(),e=$(".ajp-product__brand a").clone(),n=$(".ajp-product__yourviews #yv-review-quickreview").clone();t.find(".mobile-brand").html(e),t.find(".mobile-name").html("<span>"+s+"</span>"),t.find(".mobile-yourviews").html(n)},fixersMobile:function(){$(".ajp-product__image--main a").removeAttr("href")},applyDescriptionProduct:function(t){0!=t.description.length?(t="<h3>"+t.description+"</h3>",$(".ajp-product__spec").append($(t))):$(".ajp-product__spec").hide()},applyAtribbutes:function(t){var s=/attributes-ordenar/g,e=t.productId,n=t.items[0].itemId;try{$.ajax({type:"POST",url:"/attributes/get/snippet/"+e+"/"+n,data:""}).done(function(t){t&&t.length&&(t.match(s)?$(".ajp-product__att").hide():$(".ajp-product__att").html(t))})}catch(t){console.log("Erro ao buscar atributos: ",t)}}};$(document).ready(o.init),$(document).ajaxStop(function(){o.ajaxStop()}),$(window).load(o.windowOnload)}catch(t){console.log("Erro na instancia [New Product]: ",t)}}();