/**
 * Avanti Comunicação <contato@penseavanti.com.br>
 * almeidajunior
 * @date Wed Mar 10 2021 13:02:57 GMT-0300 (GMT-03:00)
 */

"use strict";!function(){try{var a={init:function(){a.openShipping(),a.getProductData(),a.getSkuInfos()},productData:{id:$("#___rc-p-id").val(),items:null,sellers:null},imagesConfig:{image:{configMain:"530-625",configZoom:"1000-1000",configThumb:"100-100"},regexList:{main:/530-625/g,thumb:/100-100/g,size:/#width#-#height#/g,uncle:/~/g}},windowOnload:function(){a.cepText()},ajaxStop:function(){},openShipping:function(){"function"==typeof window.ShippingValue&&window.ShippingValue()},cepText:function(){console.log($("#txtCep").length),$("#txtCep").attr("placeholder","Digite seu CEP")},getProductData:function(){$.ajax({type:"GET",url:"/api/catalog_system/pub/products/search/?fq=productId:"+a.productData.id,dataType:"json",contentType:"application/json",headers:{"Content-Type":"application/json",Accept:"application/vnd.vtex.ds.v10+json"}}).done(function(t){console.log(t[0]),a.productData.items=t[0].items,$(".ajp-product__image--main").addClass("easyzoom easyzoom--overlay easyzoom--with-thumbnails is-ready"),a.buildThumbsImage(),a.applySlickThumbs(),991<$(window).width()&&a.applyEasyZoomFirstTime(),$(window).width()<=991&&a.fixersMobile()})},buildThumbsImage:function(){var t=$(".ajp-product__image--main"),n=$(".ajp-product__image--thumbs"),o=[],g="",s="";a.productData.items[0].images.forEach(function(t,n){0==n&&(s=(s=t.imageTag.replace(a.imagesConfig.regexList.size,a.imagesConfig.image.configMain)).replace(a.imagesConfig.regexList.uncle,""));t=t.imageTag.replace(a.imagesConfig.regexList.size,a.imagesConfig.image.configThumb).replace(a.imagesConfig.regexList.uncle,"");o.push(t)});for(var i=0;i<o.length;i++)g+='<li><a data-zoom="">'+o[i]+"</a></li>";t.html("<a>"+s+"</a>");var e=(e=t.find("img").attr("src")).replace(a.imagesConfig.regexList.main,"1000-1000");t.find("a").attr("href",e);e=$("<ul>"+g+"</ul>");e.find("> li").each(function(){var t=$(this),n=t.find("img").attr("src");t.find("a").attr("data-zoom",n)}),n.html(e)},applySlickThumbs:function(){var t,n=$(".ajp-product__image--thumbs > ul");n.children().length<5||(t=a.arrowsSlick(),n.slick({slidesToShow:4,slidesToScroll:1,prevArrow:'<button type="button" class="slick-prev">'+t.prev+"</button>",nextArrow:'<button type="button" class="slick-next">'+t.next+"</button>",arrows:!0,dots:!1,responsive:[{breakpoint:991,settings:{slidesToShow:4,slidesToScroll:1}}]}),n.each(function(){$(this).find(".slick-arrow").wrapAll('<div class="slick-nav" />')}),991<$(window).width()?(console.log("Desktop"),a.changeImageSlickAndMain()):$(window).width()<=991&&(console.log("Mobile"),a.changeImageSlickAndMainMobile()))},changeImageSlickAndMain:function(){$(".slick-initialized.slick-slider").on("beforeChange",function(t,n,o,g){var s=$(this).find(".slick-current").next(),i=(i=s.find("a").attr("data-zoom")).replace(a.imagesConfig.regexList.thumb,"1000-1000"),s=(s=s.find("a").attr("data-zoom")).replace(a.imagesConfig.regexList.thumb,"530-625");$(".ajp-product__image--main a").attr("href",i),$(".ajp-product__image--main img").attr("src",s),a.destroyAndInitEasyzoom()})},changeImageSlickAndMainMobile:function(){$(".slick-initialized.slick-slider").on("beforeChange",function(t,n,o,g){var s=(s=$(this).find(".slick-current").next().find("img").attr("src")).replace(a.imagesConfig.regexList.thumb,a.imagesConfig.image.configMain);$(".ajp-product__image--main img").attr("src",s)})},applyEasyZoomFirstTime:function(){$(".easyzoom").easyZoom().data("easyZoom")},destroyAndInitEasyzoom:function(){var t=$(".easyzoom").easyZoom().data("easyZoom");t.teardown(),t._init()},arrowsSlick:function(){return{prev:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="18" height="18" x="0" y="0" viewBox="0 0 443.52 443.52" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><g><path d="M143.492,221.863L336.226,29.129c6.663-6.664,6.663-17.468,0-24.132c-6.665-6.662-17.468-6.662-24.132,0l-204.8,204.8    c-6.662,6.664-6.662,17.468,0,24.132l204.8,204.8c6.78,6.548,17.584,6.36,24.132-0.42c6.387-6.614,6.387-17.099,0-23.712    L143.492,221.863z" fill="#000000" data-original="#000000" style=""/></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>',next:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.com/svgjs" version="1.1" width="18" height="18" x="0" y="0" viewBox="0 0 443.52 443.52" style="enable-background:new 0 0 512 512" xml:space="preserve" class=""><g><g xmlns="http://www.w3.org/2000/svg"><g><path d="M336.226,209.591l-204.8-204.8c-6.78-6.548-17.584-6.36-24.132,0.42c-6.388,6.614-6.388,17.099,0,23.712l192.734,192.734    L107.294,414.391c-6.663,6.664-6.663,17.468,0,24.132c6.665,6.663,17.468,6.663,24.132,0l204.8-204.8    C342.889,227.058,342.889,216.255,336.226,209.591z" fill="#000000" data-original="#000000" style="" class=""/></g></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g><g xmlns="http://www.w3.org/2000/svg"></g></g></svg>'}},fixersMobile:function(){$(".ajp-product__image--main a").removeAttr("href")},getSkuInfos:function(){var i=$(".ajp-product__sellers--list");1<skuJson.skus.length?(console.log("Mais de 1 SKU."),$(document).on("vtex.sku.changed",function(t,n,o){console.log("SkuTrocado"),console.log(o);var g=a.productData.items.filter(function(t){return t.itemId==o.sku})[0].sellers;console.log("DataSku"),console.log(g);var s="";g.forEach(function(t){1!=t.sellerId&&(t='\n                                <div>\n                                    <label class="container">'+t.sellerName+'\n                                        <input type="radio" name="lojas">\n                                        <span class="checkmark"></span>\n                                    </label>\n                                </div>\n                                \n                            ',s+=t,i.html("<form>"+s+"</form>"))})})):console.log("Apenas 1 SKU.")}};$(document).ready(a.init),$(document).ajaxStop(function(){a.ajaxStop()}),$(window).load(a.windowOnload)}catch(t){console.log("Erro na instancia [New Product]: ",t)}}();